<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Apple Calculator Clone</h1>
    <h2>By Marodeen Shamonei</h2>
    <div class="container">
        <div class="display">
            <div class="calculations"></div>
        </div>
        <div class="row">
            <button class="grayer" id="clear">AC</button>
            <button class="grayer" id="plusminus">+/-</button>
            <button class="grayer" id="percent">%</button>
            <button class="orange" id="divide">รท</button>
        </div>
        <div class="row">
            <button>7</button>
            <button>8</button>
            <button>9</button>
            <button class="orange" id="multiply">x</button>
        </div>
        <div class="row">
            <button>4</button>
            <button>5</button>
            <button>6</button>
            <button class="orange" id="subtract">-</button>
        </div>
        <div class="row">
            <button>1</button>
            <button>2</button>
            <button>3</button>
            <button class="orange" id="add">+</button>
        </div>
        <div class="row">
            <button class="zero">0</button>
            <button>.</button>
            <button class="orange" id="equals">=</button>
        </div>
    </div>


    <script>
        const btn = document.querySelectorAll("button");
        const display = document.querySelector(".calculations");

        let firstOperand = null;
        let operator = null;
        let currentOperand = "";

        btn.forEach((button) => {
            button.addEventListener("click", (event) => {
                button.style.backgroundColor = "lightgray";
                setTimeout(() => {
                    button.style.backgroundColor = "";
                }, 50);

                const target = event.target;
                const value = target.textContent;

                if (target.id === "clear") {
                    firstOperand = null;
                    operator = null;
                    currentOperand = "";
                    display.textContent = "";
                } else if (target.id === "plusminus") {
                    display.textContent *= -1;
                } else if (target.id === "percent") {
                    display.textContent = parseFloat(display.textContent) / 100;
                } else if (target.id === "multiply" || target.id === "subtract" || target.id === "add" || target.id === "divide") {
                    operator = value;
                    firstOperand = parseFloat(display.textContent);
                    currentOperand = "";
                } else if (target.id === "equals") {
                    if (operator){
                        const secondOperand = parseFloat(display.textContent);
                        if (operator === "+"){
                            firstOperand += secondOperand;
                        } else if (operator === "-"){
                            firstOperand -= secondOperand;
                        } else if (operator === "x"){
                            firstOperand *= secondOperand;
                        } else if (operator === "รท"){
                            firstOperand /= secondOperand;
                        }
                    }
                    operator = null;
                    currentOperand = firstOperand.toString();
                    display.textContent = firstOperand;

                } else {
                    if (value === "." && currentOperand.includes(".")){
                        return;
                    }
                    currentOperand += value;
                    display.textContent = currentOperand;
                }
            });
        });




        // Operation Variables
        // const firstNumber;
        // const operator;
        // const secondNumber;        
    </script>
</body>

</html>